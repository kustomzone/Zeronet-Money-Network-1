<!DOCTYPE html>
<!--suppress HtmlUnknownAttribute, HtmlUnknownAttribute, HtmlUnknownAttribute, HtmlUnknownAttribute, HtmlUnknownAttribute, HtmlUnknownAttribute -->
<html ng-app="MoneyNetwork">
<head>
    <title ng-bind="n.texts.appname">Money Network loading</title>
    <meta name="keywords" content="money,chat,privacy,encryption">
    <link rel="stylesheet" media="all" href="css/all.css"/>

    <!-- angularJS templates - subpages in single page site - same sequence as in main menu -->
    <script type="text/ng-template" id="about.html">

        <div class="bodyfull">

            <p>
                The world today is mainly only using one kind of money.
                That is money with interest backed by national banks.
                That money system have with minor changes been the driving force behind the worlds development
                for the last 300 years.
                Not always a nice tour but in the end more good than bad things.
                But today that money system is causing too many problems and cannot alone bring the world forward.
                We need something new.
            </p>

            <p>
                We have lived for too long time with only one type of money, have forgotten that money is a human
                invention,
                have forgotten why money exists and have forgotten the purpose of money.
                Money is not one thing only. Money don't have to be a monoculture.
                Money exists to make make exchange of service and goods between humans easier.
                Money don't have to rule the world.
            </p>

            <p>
                Money Network is a demo about money.
                With inspiration from
                <a href="http://charleseisenstein.net/" target="_blank" rel="noopener noreferrer">Charles Eisenstein</a>
                and
                <a href="http://www.lietaer.com/" target="_blank" rel="noopener noreferrer">Bernard Lietaer</a>.
                This is an attempt to free money. Make it easy to use complementare and alternative money systems
                together
                with traditional money systems.
                A monetary ecosystem can solve many of the problems the world are facing today.
                The vision is one wallet with any kind of money.
                Here as a demo. Someone more skilled than I may bring the vision into real existence ...
            </p>

            Summary:
            <ul style="list-style-type:disc">
                <li>No registration. User account is created in browser client.
                    A anonymous <a href="https://zeronet.io/" target="_blank" rel="noopener noreferrer">ZeroNet</a> cert
                    is being for client communication.
                </li>
                <li>Contacts. Search, add, verify contacts in Money Network.</li>
                <li>Chat with contacts, quick dialog, pictures, group chat and deep links to conversations.</li>
                <li>todo: Free money definition. Use existing money definitions from network or create your own type of
                    money.
                </li>
                <li>todo: API to money systems. Plugin the money systems you want to use.</li>
                <li>todo: Use money to exchange goods and services.
                    Transactions are stored encrypted in <b>todo:</b> block chains, clients or
                    on <a href="https://zeronet.io/" target="_blank" rel="noopener noreferrer">ZeroNet</a>.
                </li>
                <li>Full client and server side encryption. Only very little information is shared public and
                    unencrypted.<br>
                    Public/private key encryption using either
                    <a href="https://github.com/travist/jsencrypt" target="_blank" rel="noopener noreferrer">JSEncrypt</a> (RSA)
                    or ZeroNet's
                    <a href="https://zeronet.readthedocs.io/en/latest/site_development/zeroframe_api_reference/#plugin-cryptmessage"
                       target="_blank" rel="noopener noreferrer">CryptMessage</a>
                    plugin (BitCoin).
                </li>
                <li>A client network. Data on clients. Minimum data on servers. Servers are used for communication
                    between
                    clients.
                </li>
                <li>Open source on <a href="http://github.com/jaros1/Zeronet-Money-Network" target="_top"
                                      rel="noopener noreferrer">GitHub</a>.
                    Feel free to clone, download, modify and make your own website or app.
                </li>
                <li>You may want to use <a href="https://www.torproject.org/" target="_blank" rel="noopener noreferrer">TOR</a>
                    when using Money Network
                    on <a href="https://zeronet.readthedocs.io/en/latest/faq/#how-to-use-zeronet-with-tor"
                          target="_blank" rel="noopener noreferrer">ZeroNet</a>.
                    You may NOT want to use a public ZeroNet proxy on clearnet.
                </li>
                <li>
                    You may want to make a backup <b>todo:</b> link of your local data. Everything is lost if you clear
                    browser data or switches to an other browser client.
                </li>
                <li>
                    You may want to delete your data <b>todo:</b> link
                    from <a href="https://zeronet.io/" target="_blank" rel="noopener noreferrer">ZeroNet</a>
                    and browser client when finished used this demo.
                </li>
                <li>
                    Data from inactive user accounts will be deleted from ZeroNet after {{a.no_days_before_cleanup}}
                    days.
                    The data is still in client and will be restored from client to ZeroNet after next user login.
                </li>
            </ul>

        </div>

        <!-- end about.html -->
    </script>

    <script type="text/ng-template" id="money.html">

        <div class="bodyfull">

            <p>
                money.html - page to manage the traditional, complementare and alternative money systems that you
                want to use in here.
            </p>

            Summary:
            <ul style="list-style-type:disc">
                <li>todo: browse money definitions</li>
                <li>todo: tag cloud with popular money systems</li>
                <li>todo: create/remove money definitions</li>
                <li>todo: add/remove access to external money systems</li>
                <li>todo:</li>
                <li>todo:</li>
            </ul>

        </div>

        <!-- end money.html -->
    </script>

    <script type="text/ng-template" id="network.html">
        <p ng-show="c.show_welcome_msg()">
            No contacts were found. Please go to "Account" page and enter/update search tags.
        </p>
        <div ng-hide="c.show_welcome_msg()" class="bodyfull">
            <p>
                Money Network contacts. Use this page to manage your Money Network contacts.
            </p>

            <p>
            </p>

            <p>
                Filter:
                <input type="button" value="All" ng-click="c.toggle_filter('all')"
                       style="color: {{c.setup.contact_filters.all}}"/>&nbsp;
                <input type="button" value="Guest" ng-click="c.toggle_filter('guest')"
                       style="color: {{c.setup.contact_filters.guest}}"/>&nbsp;
                <input type="button" value="New" ng-click="c.toggle_filter('new')"
                       style="color: {{c.setup.contact_filters.new}}"/>&nbsp;
                <input type="button" value="Unverified" ng-click="c.toggle_filter('unverified')"
                       style="color: {{c.setup.contact_filters.unverified}}"/>&nbsp;
                <input type="button" value="Verified" ng-click="c.toggle_filter('verified')"
                       style="color: {{c.setup.contact_filters.verified}}"/>&nbsp;
                <input type="button" value="Ignored" ng-click="c.toggle_filter('ignore')"
                       style="color: {{c.setup.contact_filters.ignore}}"/>&nbsp;

                Sort:
                <input type="text" placeholder="Start typing" ng-model="c.setup.contact_sort" class="user_info"
                       style="width: 140px"
                       uib-typeahead="sort for sort in c.contact_sort_options | filter:$viewValue | limitTo:8"
                       typeahead-editable="false"
                       alt="{{c.contact_sort_title}}" title="{{c.contact_sort_title}}"
                       typeahead-on-select="c.contact_sort_changed()">
            </p>
            <table>
                <thead>
                <tr>
                    <th colspan="1" style="text-align: center"
                        title="User id (ZeroNet or alias) and contact status (new, added, unverfied, verified and ignore). Click to User id to edit">
                        User
                    </th>
                    <th style="text-align: center" colspan="3" title="User information">
                        User information
                    </th>
                    <th></th>
                    <th style="text-align: center">
                        Action
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td colspan="6">&nbsp;</td>
                </tr>
                </tbody>
                <tbody ng-repeat="x in c.contacts|filter:c.filter_contacts|orderBy:c.contact_order_by">
                <tr>
                    <td style="vertical-align: top">User id</td>
                    <td>:</td>
                    <td>
                        <span ng-hide="x.edit_alias" ng-bind-html="x|contactAlias" ng-click="c.edit_alias(x)"
                              title="{{x.cert_user_id}}. Click to update alias">
                        </span>
                        <span ng-show="x.edit_alias" title="{{c.edit_alias_title}}">
                            <input type="text" ng-model="x.new_alias" style="width: 110px" id="{{x.$$hashKey}}:alias"
                                   on-key-enter="c.save_user_info(x)" on-key-escape="c.cancel_edit_alias(x)">
                        </span>
                    </td>
                    <td rowspan="2" style="width: 55px; vertical-align: top">
                        <img ng-src="{{x|findContactAvatar}}" title="Click to chat" ng-click="c.chat_contact(x)">
                    </td>
                    <td>&nbsp;</td>
                    <td rowspan="{{x.search.length+1}}" style="vertical-align: top">
                        {{x.type}}:
                        <input ng-show="x|showContactAction:'ignore'" type="button" value="Ignore"
                               ng-click="c.contact_ignore(x)"/>
                        <input ng-show="x|showContactAction:'unplonk'" type="button" value="Unplonk"
                               ng-click="c.contact_unplonk(x)"/>
                        <input ng-show="x|showContactAction:'add'" type="button" value="Add"
                               ng-click="c.contact_add(x)"/>
                        <input ng-show="x|showContactAction:'remove'" type="button" value="Remove"
                               ng-click="c.contact_remove(x)"/>
                        <input ng-show="x|showContactAction:'verify'" type="button" value="Verify"
                               ng-click="c.contact_verify(x)"/>
                        <input ng-show="x|showContactAction:'chat'" type="button" value="Chat"
                               ng-click="c.chat_contact(x)"/>
                    </td>
                </tr>
                <tr ng-repeat="y in x.search">
                    <td ng-bind-html="y.tag"></td>
                    <td>:</td>
                    <td colspan="{{[1,2].indexOf(x.search.row) == -1 ? 3 : 1}}" ng-bind-html="y|formatSearchValue"
                        title="{{y|formatSearchTitle}}"></td>
                </tr>
                <tr>
                    <td colspan="6">&nbsp;</td>
                </tr>
                </tbody>
            </table>

        </div>

        <!-- end network.html -->
    </script>

    <script type="text/ng-template" id="chat.html">

        <div class="bodyfull">

            <div class="scroller-companies" infinite-scroll="c.get_more_messages()"
                 infinite-scroll-container='".bodyfull"'>

                <p ng-show="c.show_welcome_msg1()">
                    No contacts were found. Please go to "Account" page and enter/update search tags.
                </p>

                <p ng-show="c.show_welcome_msg2()">
                    No chat messages were found. Please go to "Network" page and add contacts and/or start chatting.
                </p>

                <div ng-show="c.show_no_welcome()">

                    <p>
                <span ng-hide="c.contact">
                Filter:
                <input type="button" value="All" ng-click="c.toggle_filter('all')"
                       style="color: {{c.setup.contact_filters.all}}"/>&nbsp;
                <span ng-hide="c.setup.block_guests">
                    <input type="button" value="Guest" ng-click="c.toggle_filter('guest')"
                           style="color: {{c.setup.contact_filters.guest}}"/>&nbsp;
                </span>
                <input type="button" value="New" ng-click="c.toggle_filter('new')"
                       style="color: {{c.setup.contact_filters.new}}"/>&nbsp;
                <input type="button" value="Unverified" ng-click="c.toggle_filter('unverified')"
                       style="color: {{c.setup.contact_filters.unverified}}"/>&nbsp;
                <input type="button" value="Verified" ng-click="c.toggle_filter('verified')"
                       style="color: {{c.setup.contact_filters.verified}}"/>&nbsp;
                <input type="button" value="Ignored" ng-click="c.toggle_filter('ignore')"
                       style="color: {{c.setup.contact_filters.ignore}}"/>&nbsp;

                </span>

                        Sort:
                        <input type="text" placeholder="Start typing" ng-model="c.setup.chat_sort" class="user_info"
                               style="width: 140px"
                               uib-typeahead="sort for sort in c.chat_sort_options | filter:$viewValue | limitTo:8"
                               typeahead-editable="false"
                               alt="{{c.chat_sort_title}}" title="{{c.chat_sort_title}}"
                               typeahead-on-select="c.chat_sort_changed()">

                <span class="two_panel_chat">
                    Two panel chat:
                    <input type="checkbox" ng-model="c.setup.two_panel_chat" ng-change="c.two_panel_chat_changed()">
                </span>

                    </p>

                    <div style="width: 99%; border-style: solid; border-width: 2px;">

                        <table style="width: 100%">
                            <tbody>
                            <tr>
                                <td ng-bind="c.chat_hint()">
                                <td>
                                <td style="text-align: right; vertical-align: top; white-space: nowrap;">

                            <span ng-show="c.chat_hint_start_chat()">
                                Public chat?
                                <input type="checkbox" ng-model="c.setup.public_chat"
                                       ng-change="c.debug_settings_changed()">
                            </span>
                            <span ng-hide="!c.chat_hint_chatting()">
                                <span ng-show="c.chat_hint_pushpin()" ng-click="c.start_editing_grp_chat()"
                                      class="glyphicon glyphicon-pushpin"
                                      title="Click to update participants in this chat">
                                </span>
                                <span ng-show="c.editing_grp_chat" ng-click="c.stop_editing_grp_chat()"
                                      class="glyphicon glyphicon-ok"
                                      title="Click when finished updating participants in group chat">
                                </span>
                                <span class="glyphicon glyphicon-remove" ng-click="c.see_all_chat()"
                                      title="Click to see all chat messages">
                                </span>

                            </span>

                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <div ng-show="c.contact && !c.group_chat">

                            <table>
                                <thead>
                                <tr>
                                    <th></th>
                                    <th>Tag</th>
                                    <th></th>
                                    <th>Value</th>
                                    <th></th>
                                    <th>Privacy</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td rowspan="{{c.contact.search.length+2}}" style="vertical-align: top">
                                        <img ng-src="{{c.contact|findContactAvatar}}" class="img-circle img-sm">
                                    </td>
                                    <td>User Id</td>
                                    <td>&nbsp;</td>
                                    <td>
                    <span ng-hide="c.contact.edit_alias" ng-bind-html="c.contact|contactAlias"
                          title="{{c.contact.cert_user_id}}. Click to edit" ng-click="c.edit_alias()">
                    </span>
                    <span ng-show="c.contact.edit_alias">
                        <input type="text" ng-model="c.contact.new_alias" style="width: 110px" id="contact_alias_id"
                               on-key-enter="c.save_user_info()" on-key-escape="c.cancel_edit_alias()">
                    </span>
                                    </td>
                                    <td>&nbsp;</td>
                                    <td>-</td>
                                    <td rowspan="{{c.contact.search.length+2}}" style="vertical-align: top">
                                        <input ng-show="c.contact|showContactAction:'ignore'" type="button"
                                               value="Ignore"
                                               ng-click="c.contact_ignore(x)"/>
                                        <input ng-show="c.contact|showContactAction:'unplonk'" type="button"
                                               value="Unplonk"
                                               ng-click="c.contact_unplonk(x)"/>
                                        <input ng-show="c.contact|showContactAction:'add'" type="button" value="Add"
                                               ng-click="c.contact_add(x)"/>
                                        <input ng-show="c.contact|showContactAction:'remove'" type="button"
                                               value="Remove"
                                               ng-click="c.contact_remove(x)"/>
                                        <input ng-show="c.contact|showContactAction:'verify'" type="button"
                                               value="Verify"
                                               ng-click="c.contact_verify(x)"/>
                                        <input ng-show="c.show_contact_delete()" type="button" value="Delete"
                                               ng-click="c.contact_delete()"/>
                                        <input ng-show="c.show_delete_user1" type="button" value="Admin"
                                               ng-click="c.delete_user1()"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>User type</td>
                                    <td>&nbsp;</td>
                                    <td ng-bind="c.contact.type"></td>
                                    <td>&nbsp;</td>
                                    <td>-</td>
                                </tr>
                                <tr ng-repeat="s in c.contact.search">
                                    <td ng-bind-html="s.tag"></td>
                                    <td></td>
                                    <td ng-bind-html="s|formatSearchValue" title="{{s|formatSearchTitle}}"></td>
                                    <td></td>
                                    <td ng-bind-html="s.privacy"></td>
                                </tr>
                                </tbody>
                            </table>

                        </div>

                        <div ng-show="c.group_chat" style="width: 100%">
                    <span ng-repeat="x in c.group_chat_contacts" style="padding-left: 5px; padding-bottom: 5px;">
                        <table style="display: inline">
                            <tbody>
                            <tr>
                                <td>
                                    <img ng-show="c.editing_grp_chat" ng-src="{{x|findContactAvatar}}"
                                         ng-click="c.grp_chat_add(x)" title="Click to remove contact from group chat">
                                    <img ng-hide="c.editing_grp_chat" ng-src="{{x|findContactAvatar}}"
                                         ng-click="c.chat_contact(x)" title="Click to chat with contact">
                                </td>
                            </tr>
                            <tr>
                                <td ng-bind-html="x|contactAlias">
                                </td>
                            </tr>
                            <tr>
                                <td ng-bind="x|getLastUpdated"></td>
                            </tr>
                            <tr>
                                <td ng-bind="x.type"></td>
                            </tr>
                            </tbody>
                        </table>
                    </span>
                        </div>

                    </div>


                    <br>

                    <ul class="list-unstyled media-block">

                        <li ng-show="c.contact || c.group_chat || c.setup.public_chat">

                            <div class="media-left">
                                <img ng-src="{{c.avatar.src}}" class="img-circle img-sm" alt="Avatar">
                            </div>

                            <div class="media-body pad-hor">
                                <form name="new_chat_msg_form" class="css-form" novalidate>
                                    <div imagedrop on-image-drop="c.imageDropped()">
                                        <table class="speech" style="width: 100%">
                                            <tbody style="display: table; width: inherit;">
                                            <tr>
                                                <td class="media-heading" style="white-space: nowrap;">
                                                    <span ng-bind-html="c.setup.alias">Me</span>
                                                    <span class="glyphicon glyphicon-forward"></span>
                                                    <span ng-bind-html="c.contact|contactAlias"></span>
                                            <span ng-class="c.contact|contactGlyphicon"
                                                  title="{{c.contact|contactGlyphiconTitle}}"></span>
                                                </td>

                                                <td style="text-align: right; vertical-align: top; width: 99%">
                                                    <span class="speech-time"><i
                                                            class="fa fa-clock-o fa-fw"></i>Now</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="width: 99%">
                                        <textarea class="autosize postfield new_chat_msg" id="new_chat_msg"
                                                  placeholder="Write something. Image drag&drop support in E10+, Chrome and Firefox"
                                                  rows="1" required
                                                  ng-model="c.new_chat_msg" ng-keyup="c.handleTextAreaHeight($event)">
                                        </textarea>
                                        <span ng-show="c.chat_hint_pubkey()">
                                            Chat not possible for this contact. No public key was found on ZeroNet.
                                            Could be an old inactive contact. Data on ZeroNet are deleted after {{c.no_days_before_cleanup}} days.
                                            Keep contact and chat if you think that contact will return to Money Network later.
                                            Delete contact and chat if you think that user has left Money Network for good.
                                        </span>
                                        <span ng-show="c.group_chat && (c.group_chat_contacts.length == 0)">
                                            Group chat disabled. Please select one or more contacts. Click on avatars.
                                        </span>
                                                </td>
                                            </tr>
                                            <tr ng-show="c.new_chat_src">
                                                <td colspan="2">
                                                    <div style="position: relative; display: inline-block;">
                                                    <span ng-click="c.new_char_src_remove()"
                                                          class="glyphicon glyphicon-remove"
                                                          style="position: absolute; right: 0;"></span>
                                                        <img ng-src="{{c.new_chat_src}}">
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2" style="width: 99%; text-align: right">

                                                    <div class="image-upload">
                                                        <label for="file-input">
                                                            <span class="glyphicon glyphicon-camera"></span>
                                                        </label>
                                                        <input id="file-input" type="file"
                                                               accept=".png, .jpg, .jpeg, .gif, .tif"/>
                                                    </div>

                                                    <button type="submit" ng-click="c.send_chat_msg()"
                                                            ng-disabled="new_chat_msg_form.$invalid">Send
                                                    </button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </form>
                            </div>
                        </li>

                        <li ng-repeat="m in c.messages|filter:c.chat_filter|orderBy:c.chat_order_by:true|limitTo: c.chat_page_context.infinite_scroll_limit"
                            class="mar-btm">
                            <span ng-show="c.set_first_and_last_chat($first,$last,m)"></span>

                            <div ng-show="(m.message.folder == 'outbox')" class="media-left">
                                <img ng-src="{{c.avatar.src}}" class="img-circle img-sm"
                                     alt="Click to continue chat" title="Click to continue chat"
                                     ng-click="c.chat_contact(m.contact)">
                            </div>
                            <div ng-show="(m.message.folder == 'outbox')" class="media-body pad-hor">

                                <!-- show outgoing message -->
                                <table class="speech" ng-hide="m.edit_chat_message">
                                    <tr>
                                        <td>

                                        <span ng-click="c.chat_contact(m.contact)" class="media-heading"
                                              title="Click to continue chat">
                                            <span ng-bind-html="c.setup.alias">Me</span>
                                            <span ng-class="m.contact|contactGlyphicon"
                                                  title="{{m.contact|contactGlyphiconTitle}}"></span>
                                        </span>

                                        </td>
                                        <td style="text-align: right; vertical-align: top">
                                        <span class="speech-time"
                                              title="Message size in browser and on ZeroNet. Always 0 for public chat (optional files)"> {{m.message|formatMsgSize}}</span>
                                        <span class="speech-time" title="{{m.message.sent_at|date:'short'}}"> <i
                                                class="fa fa-clock-o fa-fw"></i> {{m.message.sent_at|shortChatTime}}</span>
                                            <a class="icon icon-edit" href=""
                                               ng-show="(m.message.message.msgtype == 'chat msg')"
                                               ng-click="c.edit_chat_msg(m)"></a>
                                        </td>
                                    </tr>
                                    <tr>

                                        <td colspan="2">
                                            Hello <span ng-bind-html="m|formatChatMessageAlias"></span>
                                            <img ng-src="{{m.contact|findContactAvatar}}" height="18" width="18"
                                                 title="Click to chat" alt="Click to chat"
                                                 ng-click="c.chat_contact(m.contact)">
                                            <span ng-bind-html="m|formatChatMessage"></span>
                                        </td>

                                    </tr>
                                    <tr ng-show="c.show_image(m)">
                                        <td colspan="2">
                                            <img ng-src="{{m.message.message.image}}">
                                        </td>
                                    </tr>
                                </table>

                                <!-- edit outgoing message -->
                                <form name="{{m|chatEditFormName}}" ng-show="m.edit_chat_message" class="css-form"
                                      novalidate>

                                    <table class="speech" style="width: 100%">
                                        <tr>
                                            <td style="white-space: nowrap;"><a href="#" class="media-heading"
                                                                                ng-bind-html="c.setup.alias">Me</a></td>
                                            <td style="text-align: right; vertical-align: top; width: 99%">
                                                <span class="speech-time"><i class="fa fa-clock-o fa-fw"></i>Now</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" style="width: 99%">
                                        <textarea class="autosize postfield new_chat_msg" id="{{m|chatEditTextAreaId}}"
                                                  placeholder="Write something..." rows="1" required
                                                  ng-keyup="c.handleTextAreaHeight($event)">
                                        </textarea>
                                            </td>
                                        </tr>
                                        <tr ng-show="c.show_image(m)">
                                            <td colspan="2">
                                                <div style="position: relative; display: inline-block;">
                                            <span ng-click="c.edit_chat_message_remove_image(m)"
                                                  class="glyphicon glyphicon-remove"
                                                  style="position: absolute; right: 0;">
                                            </span>
                                                    <img id="{{m|chatEditImgId}}">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" style="width: 99%; text-align: right">

                                                <div class="image-upload">
                                                    <label for="{{m|chatFileInputId}}">
                                                        <span class="glyphicon glyphicon-camera"></span>
                                                    </label>
                                                    <input id="{{m|chatFileInputId}}" type="file"
                                                           accept=".png, .jpg, .jpeg, .gif, .tif"/>
                                                </div>

                                                <button type="submit" ng-click="c.cancel_edit_chat_msg(m)">Cancel
                                                </button>
                                                <button type="submit" ng-click="c.delete_edit_chat_msg(m)">Delete
                                                </button>
                                                <button type="submit" ng-click="c.save_chat_msg(m)"
                                                        ng-disabled="{{m|chatEditFormDisabled}}">Send
                                                </button>
                                            </td>
                                        </tr>
                                    </table>

                                </form>
                            </div>

                            <div ng-show="(m.message.folder == 'inbox')" class="media-right">
                                <img ng-src="{{m.contact|findContactAvatar}}" class="img-circle img-sm"
                                     alt="Click to chat"
                                     title="Click to chat" ng-click="c.chat_contact(m.contact)">
                            </div>
                            <div ng-show="(m.message.folder == 'inbox')" class="media-body pad-hor speech-right">

                                <!-- show inbox message -->
                                <table class="speech">
                                    <tr>
                                        <td style="text-align: left">

                                        <span ng-click="c.chat_contact(m.contact)" class="media-heading"
                                              title="Click to chat">
                                            <span ng-bind-html="m|messageAlias"></span>
                                            <span ng-class="m|messageGlyphicon"
                                                  title="{{m|messageGlyphiconTitle}}"></span>
                                        </span>

                                        </td>
                                        <td style="text-align: right; vertical-align: top">
                                        <span class="speech-time"
                                              title="Message size in browser"> {{m.message|formatMsgSize}}</span>
                                        <span class="speech-time" title="{{m.message.sent_at|date:'short'}}"> <i
                                                class="fa fa-clock-o fa-fw"></i> {{m.message.sent_at|shortChatTime}}</span>
                                            <a class="icon icon-edit" href="" ng-click="c.edit_chat_msg(m)"
                                               title="Click to delete"></a>
                                            <a ng-show="c.show_verify_icon(m)" class="icon icon-verify" href=""
                                               ng-click="c.enter_password(m)"
                                               title="Click to verify"></a>
                                        </td>
                                    </tr>
                                    <tr>

                                        <td colspan="2">
                                            Hi <span ng-bind-html="m|formatChatMessageAlias"></span>
                                            <img ng-src="{{m|findMessageReceiverAvatar}}" height="18" width="18"
                                                 title="Click to chat" alt="Click to chat"
                                                 ng-click="c.chat_contact(m.contact)">
                                            <span ng-bind-html="m|formatChatMessage"></span>
                                        </td>

                                    </tr>
                                    <tr ng-show="c.show_image(m)">
                                        <td colspan="2">
                                            <img ng-src="{{c.get_image_src(m)}}">
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </li>
                    </ul>

                </div>

            </div>

        </div>
        <!-- end chat.html -->
    </script>

    <script type="text/ng-template" id="chat2.html">

        <div class="bodyleft">
            <p>
                Sort:
                <input type="text" placeholder="Start typing" ng-model="c.setup.contact_sort" class="user_info"
                       style="width: 140px"
                       uib-typeahead="sort for sort in c.contact_sort_options | filter:$viewValue | limitTo:8"
                       typeahead-editable="false"
                       alt="{{c.contact_sort_title}}" title="{{c.contact_sort_title}}"
                       typeahead-on-select="c.contact_sort_changed()">
            </p>

            <table>
                <thead>
                <tr>
                    <th colspan="4" style="text-align: center"
                        title="Money Network contacts. Click on User id to update alias">
                        Money Network contacts
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td colspan="4">&nbsp;</td>
                </tr>
                </tbody>
                <tbody ng-repeat="x in c.contacts|filter:c.contact_filter|orderBy:c.contact_order_by"
                       ng-style="c.contact_background_color(x)">
                <tr>
                    <td style="vertical-align: top">User id</td>
                    <td>:</td>
                    <td ng-hide="x.edit_alias" ng-bind-html="x|contactAlias" ng-click="c.edit_alias(x)"
                        title="{{x.cert_user_id}}. Click to update alias">
                    </td>
                    <td ng-show="x.edit_alias" title="{{c.edit_alias_title}}">
                        <input type="text" ng-model="x.new_alias" style="width: 110px" id="{{x.$$hashKey}}:alias"
                               on-key-enter="c.save_user_info(x)" on-key-escape="c.cancel_edit_alias(x)">
                    </td>
                    <td rowspan="2" style="vertical-align: top">
                        <span ng-show="!c.editing_grp_chat && (x.type != 'group')">
                        <img ng-src="{{x|findContactAvatar}}" title="Click to chat with contact"
                             ng-click="c.chat_contact(x)">
                        </span>
                        <span ng-show="!c.editing_grp_chat && (x.type == 'group')">
                        <img ng-src="{{x|findContactAvatar}}" title="Click to chat with group"
                             ng-click="c.chat_contact(x)">
                        </span>
                        <span ng-show="c.editing_grp_chat && (x.type != 'group')">
                        <img ng-src="{{x|findContactAvatar}}" title="Click to add/remove contact to/from group chat"
                             ng-click="c.grp_chat_add(x)">
                        </span>
                        <span ng-show="c.editing_grp_chat && (x.type == 'group')">
                        <img ng-src="{{x|findContactAvatar}}">
                        </span>
                    </td>
                </tr>
                <tr ng-repeat="y in x.search">
                    <td ng-bind-html="y.tag"></td>
                    <td>:</td>
                    <td colspan="{{[1,2].indexOf(x.search.row) == -1 ? 2 : 1}}" ng-bind-html="y|formatSearchValue"
                        title="{{y|formatSearchTitle}}"></td>
                </tr>
                <tr style="background-color: white">
                    <td colspan="4">&nbsp;</td>
                </tr>
                </tbody>
            </table>


        </div>

        <div class="bodyright">

            <div class="scroller-companies" infinite-scroll="c.get_more_messages()"
                 infinite-scroll-container='".bodyright"'>

                <p>
                    Filter:
                    <input type="button" value="All" ng-click="c.toggle_filter('all')"
                           style="color: {{c.setup.contact_filters.all}}"/>&nbsp;
                <span ng-hide="c.setup.block_guests">
                <input type="button" value="Guest" ng-click="c.toggle_filter('guest')"
                       style="color: {{c.setup.contact_filters.guest}}"/>&nbsp;
                </span>
                    <input type="button" value="New" ng-click="c.toggle_filter('new')"
                           style="color: {{c.setup.contact_filters.new}}"/>&nbsp;
                    <input type="button" value="Unverified" ng-click="c.toggle_filter('unverified')"
                           style="color: {{c.setup.contact_filters.unverified}}"/>&nbsp;
                    <input type="button" value="Verified" ng-click="c.toggle_filter('verified')"
                           style="color: {{c.setup.contact_filters.verified}}"/>&nbsp;
                    <input type="button" value="Ignored" ng-click="c.toggle_filter('ignore')"
                           style="color: {{c.setup.contact_filters.ignore}}"/>&nbsp;

                    Sort:
                    <input type="text" placeholder="Start typing" ng-model="c.setup.chat_sort" class="user_info"
                           style="width: 140px"
                           uib-typeahead="sort for sort in c.chat_sort_options | filter:$viewValue | limitTo:8"
                           typeahead-editable="false"
                           alt="{{c.chat_sort_title}}" title="{{c.chat_sort_title}}"
                           typeahead-on-select="c.chat_sort_changed()">

                <span class="two_panel_chat">
                    Two panel chat:
                    <input type="checkbox" ng-model="c.setup.two_panel_chat" ng-change="c.two_panel_chat_changed()">
                </span>

                </p>

                <div style="width: 99%; border-style: solid; border-width: 2px;">

                    <table style="width: 100%">
                        <tbody>
                        <tr>
                            <td ng-bind="c.chat_hint()"></td>
                            <td style="text-align: right; vertical-align: top; white-space: nowrap;">
                            <span ng-show="c.chat_hint_start_chat()">
                                Public chat?
                                <input type="checkbox" ng-model="c.setup.public_chat"
                                       ng-change="c.debug_settings_changed()">
                            </span>
                            <span ng-hide="!c.chat_hint_chatting()">
                                <span ng-show="c.chat_hint_pushpin()" ng-click="c.start_editing_grp_chat()"
                                      class="glyphicon glyphicon-pushpin"
                                      title="Click to update participants in this chat">
                                </span>
                                <span ng-show="c.editing_grp_chat" ng-click="c.stop_editing_grp_chat()"
                                      class="glyphicon glyphicon-ok"
                                      title="Click when finished updating participants in group chat">
                                </span>
                                <span class="glyphicon glyphicon-remove" ng-click="c.see_all_chat()"
                                      title="Click to see all chat messages">
                                </span>

                            </span>
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <div ng-show="c.contact && !c.group_chat">

                        <table>
                            <thead>
                            <tr>
                                <th></th>
                                <th>Tag</th>
                                <th></th>
                                <th>Value</th>
                                <th></th>
                                <th>Privacy</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td rowspan="{{c.contact.search.length+2}}" style="vertical-align: top">
                                    <img ng-src="{{c.contact|findContactAvatar}}" class="img-circle img-sm">
                                </td>
                                <td>User Id</td>
                                <td>&nbsp;</td>
                                <td>
                            <span ng-hide="c.contact.edit_alias" ng-bind-html="c.contact|contactAlias"
                                  title="{{c.contact.cert_user_id}}. Click to edit" ng-click="c.edit_alias()">
                            </span>
                            <span ng-show="c.contact.edit_alias">
                                <input type="text" ng-model="c.contact.new_alias" style="width: 110px"
                                       id="contact_alias_id"
                                       on-key-enter="c.save_user_info()" on-key-escape="c.cancel_edit_alias()">
                            </span>
                                </td>
                                <td>&nbsp;</td>
                                <td>-</td>
                                <td rowspan="{{c.contact.search.length+2}}" style="vertical-align: top">
                                    <input ng-show="c.contact|showContactAction:'ignore'" type="button" value="Ignore"
                                           ng-click="c.contact_ignore()"/>
                                    <input ng-show="c.contact|showContactAction:'unplonk'" type="button" value="Unplonk"
                                           ng-click="c.contact_unplonk()"/>
                                    <input ng-show="c.contact|showContactAction:'add'" type="button" value="Add"
                                           ng-click="c.contact_add()"/>
                                    <input ng-show="c.contact|showContactAction:'remove'" type="button" value="Remove"
                                           ng-click="c.contact_remove()"/>
                                    <input ng-show="c.contact|showContactAction:'verify'" type="button" value="Verify"
                                           ng-click="c.contact_verify()"/>
                                    <input ng-show="c.show_contact_delete()" type="button" value="Delete"
                                           ng-click="c.contact_delete()"/>
                                    <input ng-show="c.show_delete_user1" type="button" value="Admin"
                                           ng-click="c.delete_user1()"/>
                                </td>
                            </tr>
                            <tr>
                                <td>User type</td>
                                <td>&nbsp;</td>
                                <td ng-bind="c.contact.type"></td>
                                <td>&nbsp;</td>
                                <td>-</td>
                            </tr>
                            <tr ng-repeat="s in c.contact.search">
                                <td ng-bind-html="s.tag"></td>
                                <td></td>
                                <td ng-bind-html="s|formatSearchValue" title="{{s|formatSearchTitle}}"></td>
                                <td></td>
                                <td ng-bind-html="s.privacy"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div ng-show="c.group_chat" style="width: 100%; min-height: 25px">
                    <span ng-show="c.show_group_delete()" style="float: right;">
                        <input type="button" value="Delete" ng-click="c.group_delete()"/>
                    </span>
                    <span ng-repeat="x in c.group_chat_contacts" style="padding-left: 5px; padding-bottom: 5px;">
                        <table style="display: inline">
                            <tbody>
                            <tr>
                                <td>
                                    <img ng-show="c.editing_grp_chat" ng-src="{{x|findContactAvatar}}"
                                         ng-click="c.grp_chat_add(x)" title="Click to remove contact from group chat">
                                    <img ng-hide="c.editing_grp_chat" ng-src="{{x|findContactAvatar}}"
                                         ng-click="c.chat_contact(x)" title="Click to chat with contact">
                                </td>
                            </tr>
                            <tr>
                                <td ng-bind-html="x|contactAlias">
                                </td>
                            </tr>
                            <tr>
                                <td ng-bind="x|getLastUpdated"></td>
                            </tr>
                            <tr>
                                <td ng-bind="x.type"></td>
                            </tr>
                            </tbody>
                        </table>
                    </span>

                    </div>

                </div>


                <br>

                <ul class="list-unstyled media-block">

                    <li ng-show="c.contact || c.group_chat || c.setup.public_chat">

                        <div class="media-left">
                            <img ng-src="{{c.avatar.src}}" class="img-circle img-sm" alt="Avatar">
                        </div>

                        <div class="media-body pad-hor">
                            <form name="new_chat_msg_form" class="css-form" novalidate>
                                <div imagedrop on-image-drop="c.imageDropped()">
                                    <table class="speech" style="width: 100%">
                                        <tbody style="display: table; width: inherit;">
                                        <tr>

                                            <td class="media-heading" style="white-space: nowrap;">
                                                <span ng-bind-html="c.setup.alias">Me</span>
                                                <span class="glyphicon glyphicon-forward"></span>
                                                <span ng-bind-html="c.contact|contactAlias"></span>
                                            <span ng-class="c.contact|contactGlyphicon"
                                                  title="{{c.contact|contactGlyphiconTitle}}"></span>
                                            </td>

                                            <td style="text-align: right; vertical-align: top; width: 99%">
                                                <span class="speech-time"><i class="fa fa-clock-o fa-fw"></i>Now</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" style="width: 99%">
                                        <textarea class="autosize postfield new_chat_msg" id="new_chat_msg"
                                                  placeholder="Write something. Image drag&drop support in E10+, Chrome and Firefox"
                                                  rows="1" required
                                                  ng-model="c.new_chat_msg" ng-keyup="c.handleTextAreaHeight($event)">
                                        </textarea>
                                        <span ng-show="c.chat_hint_pubkey()">
                                            Chat not possible for this contact. No public key was found on ZeroNet.
                                            Could be an old inactive contact. Data on ZeroNet are deleted after {{c.no_days_before_cleanup}} days.
                                            Keep contact and chat if you think that contact will return to Money Network later.
                                            Delete contact and chat if you think that user has left Money Network for good.
                                        </span>
                                        <span ng-show="c.group_chat && (c.group_chat_contacts.length == 0)">
                                            Group chat disabled. Please select one or more contacts. Click on avatars.
                                        </span>
                                            </td>
                                        </tr>
                                        <tr ng-show="c.new_chat_src">
                                            <td colspan="2">
                                                <div style="position: relative; display: inline-block;">
                                                <span ng-click="c.new_char_src_remove()"
                                                      class="glyphicon glyphicon-remove"
                                                      style="position: absolute; right: 0;"></span>
                                                    <img ng-src="{{c.new_chat_src}}">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" style="width: 99%; text-align: right">

                                                <div class="image-upload">
                                                    <label for="file-input2">
                                                        <span class="glyphicon glyphicon-camera"></span>
                                                    </label>
                                                    <input id="file-input2" type="file"
                                                           accept=".png, .jpg, .jpeg, .gif, .tif"
                                                           custom-on-change="c.uploadImage"
                                                           ng-disabled="c.chat_hint_pubkey()"/>
                                                </div>

                                                <button type="submit" ng-click="c.send_chat_msg()"
                                                        ng-disabled="new_chat_msg_form.$invalid">Send
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </form>
                        </div>
                    </li>

                    <li ng-repeat="m in c.messages|filter:c.chat_filter|orderBy:c.chat_order_by:true|limitTo: c.chat_page_context.infinite_scroll_limit"
                        class="mar-btm">
                        <span ng-show="c.set_first_and_last_chat($first,$last,m)"></span>

                        <div ng-show="(m.message.folder == 'outbox')" class="media-left">
                            <img ng-src="{{c.avatar.src}}" class="img-circle img-sm" alt="Click to continue chat"
                                 title="Click to continue chat" ng-click="c.chat_contact(m.contact)">
                        </div>
                        <div ng-show="(m.message.folder == 'outbox')" class="media-body pad-hor">

                            <!-- show outgoing message -->
                            <table class="speech" ng-hide="m.edit_chat_message">
                                <tr>
                                    <td>

                                    <span ng-click="c.chat_contact(m.contact)" class="media-heading"
                                          alt="Click to continue chat" title="Click to continue chat">
                                        <span ng-bind-html="c.setup.alias">Me</span>
                                        <span ng-class="m.contact|contactGlyphicon"
                                              title="{{m.contact|contactGlyphiconTitle}}"></span>
                                    </span>

                                    </td>
                                    <td style="text-align: right; vertical-align: top">
                                    <span class="speech-time"
                                          title="Message size in browser and on ZeroNet. Always 0 for public chat (optional files)"> {{m.message|formatMsgSize}}</span>
                                    <span class="speech-time" title="{{m.message.sent_at|date:'short'}}"> <i
                                            class="fa fa-clock-o fa-fw"></i> {{m.message.sent_at|shortChatTime}}</span>
                                        <a class="icon icon-edit" href=""
                                           ng-show="(m.message.message.msgtype == 'chat msg')"
                                           ng-click="c.edit_chat_msg(m)"></a>
                                    </td>
                                </tr>
                                <tr>

                                    <td colspan="2">
                                        Hello <span ng-bind-html="m|formatChatMessageAlias"></span>
                                        <img ng-src="{{m.contact|findContactAvatar}}" height="18" width="18"
                                             title="Click to chat" alt="Click to chat"
                                             ng-click="c.chat_contact(m.contact)">
                                        <span ng-bind-html="m|formatChatMessage"></span>
                                    </td>

                                </tr>
                                <tr ng-show="c.show_image(m)">
                                    <td colspan="2">
                                        <img ng-src="{{m.message.message.image}}">
                                    </td>
                                </tr>
                            </table>

                            <!-- edit outgoing message -->
                            <form name="{{m|chatEditFormName}}" ng-show="m.edit_chat_message" class="css-form"
                                  novalidate>

                                <table class="speech" style="width: 100%">
                                    <tbody style="display: table; width: inherit;">
                                    <tr>
                                        <td style="white-space: nowrap;"><a href="#" class="media-heading"
                                                                            ng-bind-html="c.setup.alias">Me</a></td>
                                        <td style="text-align: right; vertical-align: top; width: 99%">
                                            <span class="speech-time"><i class="fa fa-clock-o fa-fw"></i>Now</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="width: 99%">
                                        <textarea class="autosize postfield new_chat_msg" id="{{m|chatEditTextAreaId}}"
                                                  placeholder="Write something..." rows="1" required
                                                  ng-keyup="c.handleTextAreaHeight($event)">
                                        </textarea>
                                        </td>
                                    </tr>
                                    <tr ng-show="c.show_image(m)">
                                        <td colspan="2">
                                            <div style="position: relative; display: inline-block;">
                                            <span ng-click="c.edit_chat_message_remove_image(m)"
                                                  class="glyphicon glyphicon-remove"
                                                  style="position: absolute; right: 0;">
                                            </span>
                                                <img id="{{m|chatEditImgId}}">
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="width: 99%; text-align: right">

                                            <div class="image-upload">
                                                <label for="{{m|chatFileInputId}}">
                                                    <span class="glyphicon glyphicon-camera"></span>
                                                </label>
                                                <input id="{{m|chatFileInputId}}" type="file"
                                                       accept=".png, .jpg, .jpeg, .gif, .tif"
                                                       custom-on-change="c.uploadImage"/>
                                            </div>

                                            <button type="submit" ng-click="c.cancel_edit_chat_msg(m)">Cancel</button>
                                            <button type="submit" ng-click="c.delete_edit_chat_msg(m)">Delete</button>
                                            <button type="submit" ng-click="c.save_chat_msg(m)"
                                                    ng-disabled="{{m|chatEditFormDisabled}}">Send
                                            </button>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>

                            </form>
                        </div>

                        <div ng-show="(m.message.folder == 'inbox')" class="media-right">
                            <img ng-src="{{m|findMessageSenderAvatar}}" class="img-circle img-sm" alt="Click to chat"
                                 title="Click to chat" ng-click="c.chat_contact(m.contact)">
                        </div>
                        <div ng-show="(m.message.folder == 'inbox')" class="media-body pad-hor speech-right">

                            <!-- show inbox message -->
                            <table class="speech">
                                <tr>
                                    <td style="text-align: left">

                                    <span ng-click="c.chat_contact(m.contact)" class="media-heading" title="Click to chat">
                                        <span ng-bind-html="m|messageAlias"></span>
                                        <span ng-class="m|messageGlyphicon" title="{{m|messageGlyphiconTitle}}"></span>
                                    </span>

                                    </td>
                                    <td style="text-align: right; vertical-align: top">
                                    <span class="speech-time" title="Message size in browser"> {{m.message|formatMsgSize}}</span>
                                    <span class="speech-time" title="{{m.message.sent_at|date:'short'}}"> <i
                                            class="fa fa-clock-o fa-fw"></i> {{m.message.sent_at|shortChatTime}}</span>
                                        <a class="icon icon-edit" href="" ng-click="c.edit_chat_msg(m)" title="Click to delete"></a>
                                        <a ng-show="c.show_verify_icon(m)" class="icon icon-verify" href=""
                                           ng-click="c.enter_password(m)" title="Click to verify"></a>
                                    </td>
                                </tr>
                                <tr>

                                    <td colspan="2">
                                        Hi <span ng-bind-html="m|formatChatMessageAlias"></span>
                                        <img ng-src="{{m|findMessageReceiverAvatar}}" height="18" width="18"
                                             title="Click to chat" alt="Click to chat"
                                             ng-click="c.chat_contact(m.contact)">
                                        <span ng-bind-html="m|formatChatMessage"></span>
                                    </td>

                                </tr>
                                <tr ng-show="c.show_image(m)">
                                    <td colspan="2">
                                        <img ng-src="{{c.get_image_src(m)}}">
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </li>
                </ul>

            </div><!-- end infinite-scroll div -->

        </div><!-- end bodyright -->

        <!-- end chat2.html -->
    </script>

    <script type="text/ng-template" id="wallet.html">

        <div class="bodyfull">

            <p>
                wallet.html - page to manage wallet with traditional, complementare and alternative money
            </p>

            Summary:
            <ul style="list-style-type:disc">
                <li>todo: money overview - sum for each money system</li>
                <li>todo: account overview - list accounts and totals</li>
                <li>todo: money/account details - list transactions</li>
                <li>todo: transaction details - sender, receiver, dates, signed documents etc</li>
                <li>todo: pay/transfer/request - maybe also in chat page</li>
                <li>todo:</li>
                <li>todo:</li>
            </ul>

        </div>

        <!-- end wallet.html -->
    </script>

    <script type="text/ng-template" id="user.html">

        <div class="bodyfull">

            <p ng-show="u.show_welcome_msg()">
                Welcome to Money Network. You are new here and you must have a network.
                Tags in this page (Account) are used when searching for contacts (Network) and for personal information
                (real or fake values).
            <ul ng-show="u.show_welcome_msg()" style="list-style-type: disc;">
                <li>Tags. Tag and value pairs: Examples: Name: Donald Duck, Location: US, Phone: 1234567890.</li>
                <li>Wildcards can be used in Tag and Value. "%" = many characters. "_" = one character.</li>
                <li>Privacy: Hidden. 100% private. Total private search. No one can see your search.</li>
                <li>Privacy: Search. 100% public. Other users can see your "Search" tag words and find you.</li>
                <li>Private: Unverified. Some info send encrypted to untrusted contact when adding contact to your
                    contact list.
                </li>
                <li>Private: Verified. More info send encrypted to trusted contact after end verification.</li>
                <li><b>Quick start: Enter %, % and Hidden, save and check out "Network" page.</b> Use tab to add extra
                    lines. Have fun.
                </li>
            </ul>
            <p>

            <p ng-hide="u.show_welcome_msg()">
                It is not required but you should add some info to identify you as user in
                the Money Network.
                It could be name, email, phone number, photo, company name, url, GPS location or whatever.
                Real or fake values.
                Wildcards can be used in Tag and Value. "%" = many characters. "_" = one character.
                User info are stored locally in your browser / on your device and are validated by
                anyone.
                The user identification is used when searching for contacts, verifying contacts and is displayed in
                contact
                list.
                You decide what information that is revealed to other users in the Money Network.
                You decide when to trust other users in the Money Network.
                Thank you for using this Money Network demo.
            </p>

            <p>
                User identification:
                <button type="submit" disabled ng-show="user_info_form.$invalid">
                <span title="Please correct errors" class="glyphicon glyphicon-ok"
                      style="color: green; font-size: larger"></span>
                </button>
                <button type="submit" ng-click="u.update_user_info()" ng-show="user_info_form.$valid">
                <span title="Save changes" class="glyphicon glyphicon-ok"
                      style="color: green; font-size: larger"></span>
                </button>
                <button type="submit" ng-click="u.revert_user_info()">
                <span title="Revert changes" class="glyphicon glyphicon-refresh"
                      style="color: red; font-size: larger"></span>
                </button>
                <img ng-show="u.setup.guest" ng-src="{{u.avatar.src}}"
                     title="Sorry. Guest account cannot change avatar picture">
                <img ng-hide="u.setup.guest" ng-src="{{u.avatar.src}}" ng-click="u.upload_avatar()"
                     title="Click to change avatar">
            <span ng-hide="u.editing_alias" ng-bind-html="u.setup.alias" title="Click to edit your alias"
                  ng-click="u.edit_alias()"></span>
            <span ng-show="u.editing_alias" title="Edit alias. Press ENTER to save. Press ESC to cancel">
                <input type="text" ng-model="u.setup_copy.alias" style="width: 110px" id="alias_id"
                       on-key-enter="u.save_alias()" on-key-escape="u.cancel_edit_alias()">
            </span>

            </p>
            <form name="user_info_form" class="css-form" novalidate>
                <table border="1">
                    <thead>
                    <tr>
                        <th style="text-align: center"
                            title="Tag: Name, Email, Phone, Photo, Company, URL and/or GPS. Tags are shared anonymous in tag cloud">
                            Tag
                        </th>
                        <th style="text-align: center" title="Tag value: Username, email address, profile picture etc.">
                            Value
                        </th>
                        <th style="text-align: center"
                            title="Privacy: Search, Public, Unverified, Verified or Hidden. See mouseover texts or click checkbox for more info">
                            Privacy
                            <input type="checkbox" ng-model="u.show_privacy_title"
                                   ng-change="u.show_privacy_title_changed()">
                        </th>
                        <th style="text-align: center" ng-show="u.show_privacy_title">Privacy details</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="x in u.user_info">
                        <td title="Start typing. Select tag. Name, Email, Phone etc.">
                            <input type="text" placeholder="Start typing"
                                   ng-model="x.tag" ng-required="u.is_tag_required(x)"
                                   uib-typeahead="tag for tag in u.tags | filter:$viewValue | limitTo:8"
                                   class="user_info" style="width: 80px">
                        </td>
                        <td title="Enter tag value. Name, email-address, phone number etc">
                            <input type="text"
                                   ng-model="x.value" ng-required="u.is_value_required(x)"
                                   class="user_info">
                        </td>
                        <td title="{{x.privacy|privacyTitle}}">
                            <input type="text" placeholder="Start typing"
                                   ng-model="x.privacy"
                                   ng-required="u.is_privacy_required(x)" on-key-enter="u.insert_row(x)"
                                   uib-typeahead="privacy for privacy in u.privacy_options | filter:$viewValue | limitTo:8"
                                   typeahead-editable="false"
                                   class="user_info" style="width: 80px">
                        </td>
                        <td ng-show="u.show_privacy_title">{{x.privacy|privacyTitle}}</td>
                        <td title="Delete row">
                    <span ng-click="u.delete_row(x)"
                          class="glyphicon glyphicon-remove" style="color: red; font-size: larger"></span>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <br>

                <p>
                    Update user info:
                    <button type="submit" disabled ng-show="user_info_form.$invalid">
                <span title="Please correct errors" class="glyphicon glyphicon-ok"
                      style="color: green; font-size: larger"></span>
                    </button>
                    <button type="submit" ng-click="u.update_user_info()" ng-show="user_info_form.$valid">
                <span title="Save changes" class="glyphicon glyphicon-ok"
                      style="color: green; font-size: larger"></span>
                    </button>
                    <button type="submit" ng-click="u.revert_user_info()">
                <span title="Revert changes" class="glyphicon glyphicon-refresh"
                      style="color: red; font-size: larger"></span>
                    </button>
                </p>
            </form>

            <span ng-show="u.setup.guest">
            <table title="Show guest account password. You must remember this password if you want to use your guest account later. Best to register for a new account as guest accounts are temporary accounts and may be blocked from other users">
                <tbody>
                <tr>
                    <td>Show guest password?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.show_guest_password"></td>
                    <td>&nbsp;&nbsp;</td>
                    <td ng-show="u.setup.show_guest_password" ng-bind="u.guest_password"></td>
                </tr>
                </tbody>
            </table>
            <br>
            </span>

            <p title="Your unique chat address. Publish this URL to allow direct chat with you">
                PM: {{u.my_chat_url}}
            </p>

            <p title="Select preferred encryption for ingoing messages. Your JSEncrypt key is {{u.keysize}} bits long. CryptMessage is using 256 bits key">
                Preferred encryption:
                <input type="radio" ng-model="u.setup.encryption" value="1" ng-change="u.debug_settings_changed()">
                <a href="https://github.com/travist/jsencrypt" target="_blank" rel="noopener noreferrer">JSEncrypt</a>  {{u.keysize}} bits key
                <input type="radio" ng-model="u.setup.encryption" value="2" ng-change="u.debug_settings_changed()">
                <a href="https://zeronet.readthedocs.io/en/latest/site_development/zeroframe_api_reference/#plugin-cryptmessage"
                   target="_blank" rel="noopener noreferrer">CryptMessage</a>  256 bits key
            </p>

            <div style="width: 100%;">

                <span style="padding-left: 10px; padding-bottom: 20px;">
                    <table style="display: inline" title="Use this section to enable/disable messages from guests, contacts on ignore list and public chat">
                    <tbody>
                    <tr>
                        <td colspan="3">Spam filters:</td>
                    </tr>
                    <tr>
                        <td>Block messages from Guests?</td>
                        <td>&nbsp;&nbsp;</td>
                        <td><input type="checkbox" ng-model="u.setup.block_guests" ng-change="u.spam_settings_changed()">
                        </td>
                    </tr>
                    <tr>
                        <td>Block messages from Ignored list?</td>
                        <td></td>
                        <td><input type="checkbox" ng-model="u.setup.block_ignored" ng-change="u.spam_settings_changed()">
                        </td>
                    </tr>
                    <tr title="Public chat is unencrypted and messages are shared with everyone">
                        <td>Enable public chat?</td>
                        <td></td>
                        <td><input type="checkbox" ng-model="u.setup.public_chat" ng-change="u.spam_settings_changed()">
                        </td>
                    </tr>
                    </tbody>
                    </table>
                </span>

                <span style="padding-left: 10px; padding-bottom: 20px;">
                    <table style="display: inline" title="Other account settings">
                        <tbody>
                        <tr>
                            <td colspan="3">Other settings:</td>
                        </tr>
                        <tr title="Check to hide when you are online. 'Online' timestamp in user interface (Network and Chat) is not updated. Timestamp in content.json file is still updated">
                            <td>Show as offline</td>
                            <td>&nbsp;&nbsp;</td>
                            <td><input type="checkbox" ng-model="u.setup.not_online" ng-change="u.spam_settings_changed()"></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr title="">
                            <td></td>
                            <td></td>
                            <td><input type="checkbox" ng-model="u.setup.todo2" ng-change="u.spam_settings_changed()"></td>
                        </tr>
                        </tbody>
                    </table>
                </span>

            </div>
            <br>

            <table title="Some usefull admin tasks:">
                <tbody>
                <tr><td colspan="3">Admin section:</td></tr>
                <tr title="Close account and delete data from ZeroNet and localStorage. Delete this account will delete data for this account only. Delete all accounts will remove all data from ZeroNet and all data from localStorage. No way back. You maybe want to make a localStorage export before doing this ...">
                    <td>Delete account:</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><a href="" ng-click="u.delete_user2(false)">delete this account</a> / <a href="" ng-click="u.delete_user2(true)">delete all accounts</a></td>
                </tr>
                </tbody>
                <tbody title="Full localStorage and ZeroNet export/import. Used as backup or when moving from one browser/device to an other browser/device. ZeroNet certificates and avatar icons are not included in export. localStorage data is always included in export. Recommend that ZeroNet user files (data.json and status.json) also is included. Recommend that uploaded optional files (public chat messages) are not included. You also have the option to encrypt export txt file. localStorage and data.json files are already encrypted. Optional files (public chat) are not">
                <tr>
                    <td>Export/import data</td>
                    <td></td>
                    <td>
                        <table>
                            <tbody>
                            <tr>
                                <td><a href="" ng-click="u.export()">export</a></td>
                                <td>&nbsp;&nbsp;/&nbsp;&nbsp;</td>
                                <td>import:&nbsp;&nbsp;</td>
                                <td><input id="import" type="file" accept=".txt" custom-on-change="u.import"/></td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: center; vertical-align: top">
                        <input type="checkbox" ng-model="u.export_show_options"> Export options
                        <span ng-show="u.export_show_options">:<br>include</span>
                    </td>
                    <td></td>
                    <td>
                        <table ng-show="u.export_show_options">
                            <tbody>
                            <tr title="localStorage data is already included in export/import.">
                                <td><input type="checkbox" ng-model="u.export_ls" disabled></td>
                                <td>localStorage</td>
                                <td>&nbsp;&nbsp;</td>
                                <td ng-bind="u.export_info.ls"></td>
                            </tr>
                            <tr title="ZeroNet user files. data.json, status.json and uploaded avatar icon. Used in encrypted communication with other ZeroNet users. Recommend that the two files are included in export. data.json contains data that should be in sync with data in localStorage. uploaded avatar is not included in export">
                                <td><input type="checkbox" ng-model="u.export_z"></td>
                                <td>ZeroNet user files</td>
                                <td></td>
                                <td ng-bind="u.export_info.z"></td>
                            </tr>
                            <tr title="Check to included optional files (your public chat messages) in export">
                                <td><input type="checkbox" ng-model="u.export_chat"></td>
                                <td>ZeroNet optional files</td>
                                <td></td>
                                <td ng-bind="u.export_info.chat"></td>
                            </tr>
                            <tr title="Check to create a password protected export file. Data in localStorage and data.json file are already encrypted. Data in optional files are not">
                                <td style="vertical-align: top"><input type="checkbox" ng-model="u.export_encrypt"></td>
                                <td style="vertical-align: top">Encrypt export file</td></td>
                                <td></td>
                                <td>
                                    <table ng-show="u.export_encrypt">
                                        <tbody>
                                        <tr>
                                            <td>Password</td>
                                            <td>:</td>
                                            <td>
                                                <input type="password" ng-model="u.export_password" required
                                                       placeholder="Enter password" style="width: 120px">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Confirm</td>
                                            <td>:</td>
                                            <td>
                                                <input type="password" ng-model="u.export_confirm_password" required
                                                       placeholder="Repeat password" style="width: 120px">
                                            </td>
                                        </tr>
                                        </tbody>

                                    </table>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr><td colspan="3">&nbsp;</td></tr>
                <tr title="Click link to change password. Enter old and new password. Minimum password length 10 characters">
                    <td style="vertical-align: top">Password:</td>
                    <td></td>
                    <td>
                        <span ng-hide="u.change_password.show">
                            <a href="" ng-click="u.show_passwords_fields(true)">change password</a>
                        </span>
                        <span ng-show="u.change_password.show">
                            <form name="change_password" ng-submit="u.change_password.submit()">
                            <table>
                                <tbody>
                                <tr>
                                    <td>Old password</td>
                                    <td>:</td>
                                    <td>
                                        <input type="password" ng-model="u.change_password.old_password" required
                                               ng-minlength="10" placeholder="Enter password" style="width: 120px">
                                    </td>
                                    <td rowspan="3">
                                        <input type="submit" value="Change" ng-disabled="change_password.$invalid">
                                    </td>
                                </tr>
                                <tr>
                                    <td>New password</td>
                                    <td>:</td>
                                    <td>
                                        <input type="password" ng-model="u.change_password.new_password" required
                                               ng-minlength="10" placeholder="Enter new password" style="width: 120px">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Confirm password</td>
                                    <td>:</td>
                                    <td>
                                        <input type="password" ng-model="u.change_password.confirm_new_password" required
                                               ng-minlength="10" placeholder="Repeat new password" style="width: 120px">
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3">Enter old and new password. Min 10 characters.</td>
                                    <td style="text-align: right">
                                        <a href="" ng-click="u.show_passwords_fields(false)">hide</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            </form>
                        </span>
                    </td>
                </tr>
                </tbody>
            </table>
            <br>

            <table title="Use this section to enable/disable debug information in browser console (F12)">
                <tbody>
                <tr>
                    <td>Enable debug info?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.enabled" ng-change="u.debug_settings_changed()">
                    </td>
                </tr>
                </tbody>
                <tbody ng-show="u.setup.debug.enabled">
                <tr title="Click to see all dbQuery select statements">
                    <td>Show sql selects?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.select" ng-change="u.debug_settings_changed()">
                    </td>
                </tr>
                <tr title="Click to see file done event processing of content.json, data.json and status.json files">
                    <td>File done events?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.file_done"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to see all ingoing messages. You should also click Show unencrypted messages and/or Show encrypted messages">
                    <td>Show ingoing messages?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.inbox" ng-change="u.debug_settings_changed()">
                    </td>
                </tr>
                <tr title="Click to see all outgoing messages. You should also click Show unencrypted messages and/or Show encrypted messages">
                    <td>Show outgoing messages?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.outbox" ng-change="u.debug_settings_changed()">
                    </td>
                </tr>
                <tr title="Feedback info. Has messages been received. Click to see feedback info in sent/received messages and to see feedback status for messages">
                    <td>Show feedback info?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.feedback_info"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to see unencrypted messages. You should also click Show ingoing messages and/or Show outgoing messages">
                    <td>Show unencrypted messages?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.unencrypted"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to see encrypted messages. You should also click Show ingoing messages and/or Show outgoing messages">
                    <td>Show encrypted messages?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.encrypted"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to see public chat messages">
                    <td>Show public chat messages?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.public_chat"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to see infinite-scroll process">
                    <td>Show infinite-scroll?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.infinite_scroll"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show data cleanup process for data.json file. Trying to keep data.json file small for fast communication">
                    <td>Show data.json cleanup?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.data_cleanup"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show invalid and/or missing avatars. Old not yet solved issue">
                    <td>Show invalid avatars?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.invalid_avatars"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show contact sort details">
                    <td>Show contacts sort?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.contact_order_by"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show chat message sort details">
                    <td>Show chat sort?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.chat_order_by"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show debug information for chat message filter">
                    <td>Show chat filter?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.chat_filter"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show no public key warnings at startup (deleted contacts)">
                    <td>Show no pubkey warnings?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.no_pubkey"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show debug information for edit alias process">
                    <td>Show edit alias?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.edit_alias"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show debug information for chat message lost in cyberspace">
                    <td>Show lost messages?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.lost_message"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show debug information about spam filter">
                    <td>Show spam filter?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.spam_filter"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to check sha256 addresses after every sitePublish call. Old maybe solved issue">
                    <td>Check sha256 addresses?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.check_sha256_addresses"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to disable autoexpanding textarea. Performance problem in firefox">
                    <td>Disable autoexpand textarea?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.disable_autoexpand_textarea"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Click to show debug information for contact action filter (buttons)">
                    <td>showContactAction filter?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.debug.show_contact_action_filter"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                </tbody>
            </table>

            <span ng-show="u.setup.debug.enabled">
            <br>

            <table title="Use this section to enable/disable special test cases">
                <tbody>
                <tr>
                    <td>Show special test cases?</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.test.enabled" ng-change="u.debug_settings_changed()">
                    </td>
                </tr>
                </tbody>
                <tbody ng-show="u.setup.test.enabled">
                <tr title="Testcase. Create a message lost in cyberspace. That is a message with status sent, no feedback and not in data.json fiĺe.">
                    <td>Message lost in cyberspace</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.test.force_lost_message"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Testcase. Fail image download. Simulate timeout when downloading an -image.json file">
                    <td>Simulate timeout for image download</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.test.image_timeout"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Testcase. Fail image download. Simulate file_done event after -image.json file download timeout">
                    <td>Simulate file_done even for image download</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.test.image_file_done"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                <tr title="Testcase. Do not compress images. Normally images are LZString compressed for smaller files and faster file sharing">
                    <td>Do not compress images</td>
                    <td>&nbsp;&nbsp;</td>
                    <td><input type="checkbox" ng-model="u.setup.test.image_compress_disabled"
                               ng-change="u.debug_settings_changed()"></td>
                </tr>
                </tbody>
            </table>

            </span>
            <br>

        </div>

        <!-- end user.html -->
    </script>

    <script type="text/ng-template" id="auth.html">

        <div class="bodyfull">

            <p>
                Login is used to protect data stored in your browser.
                Password and your data is stored encrypted in your browser. Not on a server.<br>
                ZeroNet ID is used for communication with other ZeroNet users. @moneynetwork cert is created for anonymous communication.
            </p>

            <form ng-hide="a.is_logged_in()" name="device_login_form" ng-submit="a.login_or_register()">
                <table>
                    <thead>
                    <tr>
                        <th></th>
                        <th style="width:52px"></th>
                        <th style="width:52px"></th>
                        <th style="width:52px"></th>
                        <th></th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr>
                        <td colspan="5" style="text-align: center">
                            Log in <input type="radio" ng-model="a.register" value="N" > &nbsp;&nbsp;
                            Register <input type="radio" ng-model="a.register" value="Y" ng-change="a.set_keysize()"> &nbsp;&nbsp;
                            Guest <input type="radio" ng-model="a.register" value="G" ng-change="a.set_keysize()"> &nbsp;&nbsp;&nbsp;&nbsp;
                            ZeroNet ID:
                            <a href="" ng-bind="a.site_info.cert_user_id|shortCertId" ng-click="a.select_zeronet_cert()"
                                    title="{{a.site_info.cert_user_id}}">select ...</a>
                            <a href="" id="zeronet_cert_changed_link" ng-click="a.zeronet_cert_changed()" style="display: none"></a>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="5">&nbsp;</td>
                    </tr>
                    </tbody>
                    <tbody ng-hide="a.register == 'G'">
                    <tr>
                        <td>Password</td>
                        <td colspan="3">
                            <input id="auth_password" type="password" name="device_password"
                                   ng-model="a.device_password"
                                   required ng-minlength="10" placeholder="Enter password"
                                   style="width: 120px">
                        </td>
                        <td><input ng-show="a.register == 'N'" type="submit" value="Log in" ng-hide="ctrl.register"
                                   ng-disabled="a.login_disabled()">
                        </td>
                    </tr>
                    <tr ng-show="device_login_form.device_password.$error.required">
                        <td colspan="5">Password is a required field</td>
                    </tr>
                    <tr ng-show="device_login_form.device_password.$error.minlength">
                        <td colspan="5">Minimum password length is 10</td>
                    </tr>
                    </tbody>

                    <tbody ng-show="a.register == 'Y'">
                    <tr>
                        <td>Confirm<br>password</td>
                        <td colspan="3">
                            <input type='password' name="confirm_device_password" ng-model="a.confirm_device_password"
                                   on-key-enter="a.login_or_register()" placeholder="Confirm password"
                                   style="width: 120px">
                        </td>
                        <td><input ng-show="a.register" type="submit" value="Register"
                                   ng-disabled="a.register_disabled()">
                        </td>
                    </tr>
                    <tr ng-show="a.confirm_device_password != a.device_password">
                        <td colspan="5">Passwords do not match</td>
                    </tr>
                    </tbody>
                    <tbody ng-show="a.register == 'G'">
                    <tr>
                        <td colspan="5" style="text-align: center" title="Create guest account">
                            <input type="button" value="Create" ng-click="a.login_or_register()">
                        </td>
                    </tr>
                    </tbody>
                </table>

            </form>

            <p ng-show="a.register == 'Y'">
                Please choose a secure password (minimum 10 characters) and do <b style="font-size: 150%">NOT</b> forget
                or lose it.
                Remember your password. There is <b style="font-size: 150%">NO</b> help if you forget your password.
                Use "Register" after forgotten password to create a new empty account.
                Register takes a few seconds while generating private and public key for encrypted communication.
            </p>

            <span ng-hide="a.register == 'N'"
                  title="Select encryption method for your ingoing messages. Recommend 2048 bits keys (JSEncrypt)">
                Preferred public key encryption:
            <table>
                <tbody>
                <tr>
                    <td><a href="https://zeronet.readthedocs.io/en/latest/site_development/zeroframe_api_reference/#plugin-cryptmessage"
                           target="_blank" rel="noopener noreferrer">CryptMessage</a> :</td>
                    <td>
                        <input type="radio" ng-model="a.keysize" value="256">256 (BitCoin key)
                    </td>
                </tr>
                <tr>
                    <td><a href="https://github.com/travist/jsencrypt" target="_blank" rel="noopener noreferrer">JSEncrypt</a> :</td>
                    <td>
                        <input type="radio" ng-model="a.keysize" value="1024">1024
                        <input type="radio" ng-model="a.keysize" value="2048">2048
                        <input type="radio" ng-model="a.keysize" value="4096">4096
                        <input type="radio" ng-model="a.keysize" value="8192">8192
                    </td>
                </tr>
                </tbody>
            </table>
            <br>
            </span>

            <p ng-show="a.register == 'G'">
                Click "Create" if you wish to visit Money Network as a guest.
                A temporary guest account with a random password and a dummy setup will be created for you.
                Note that there can only be one guest account in a browser. Any existing guest account is deleted at
                next guest log in.
                And that access to a guest account is very easy lost:
                do not log out without writing down password and do not use guest log in twice.
                <br>
                You can use most functions in here but will probably only be communicating with other guests.
                Most non guest accounts will ignore communication from quests.
            </p>

        </div>

        <!-- end auth.html -->
    </script>

    <!-- end angularJS templates -->

</head>
<body ng-controller="NavCtrl as n">

<div class="navbar"> <!-- navbar navbar-default navbar-fixed-top  -->

    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="#/about">About</a>

            <div class="container-fluid nav-collapse">
                <table class="main-menu-1-line">
                    <tbody>
                    <tr>
                        <td>
                            <ul class="nav">
                                <li><a href="#/money">Money</a></li>
                                <li><a href="#/network">Network</a></li>
                                <li><a ng-href="{{n.chat_link()}}">Chat</a></li>
                                <li><a href="#/wallet">Wallet</a></li>
                                <li><a href="#/user">Account</a></li>
                                <li ng-hide="n.is_logged_in()"><a href="#/auth">Log in</a></li>
                                <li ng-show="n.is_logged_in()"><a href="" ng-click="n.logout()">Log out</a></li>
                            </ul>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <table class="main-menu-2-lines">
                    <tbody>
                    <tr>
                        <td>
                            <ul class="nav">
                                <li><a href="#/money">Money</a></li>
                                <li><a href="#/network">Network</a></li>
                                <li><a href="{{n.chat_link()}}">Chat</a></li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <ul class="nav">
                                <li><a href="#/wallet">Wallet</a></li>
                                <li><a href="#/user">Account</a></li>
                                <li ng-hide="n.is_logged_in()"><a href="#/auth">Log in</a></li>
                                <li ng-show="n.is_logged_in()"><a href="#/logout">Log out</a></li>
                            </ul>
                        </td>
                    </tr>
                    </tbody>
                </table>

            </div>
            <!--/.nav-collapse -->
        </div>
    </div>
</div>

<div class="container-fluid" style="width: 100%">
    <div class="row-fluid">
        <div ng-view style="width: 100%"></div>
    </div>
    <!--/row-->

</div>

<!-- startup - static js files - framework, helper libraries etc -->
<script type="text/javascript" src="js-external/10-jquery.js"></script>
<script type="text/javascript" src="js-external/20-bootstrap-collapse.js"></script>
<script type="text/javascript" src="js-external/25-bitcoinjs.js"></script>
<script type="text/javascript" src="js-external/28-Class.js"></script>
<script type="text/javascript" src="js-external/29-Uploadable.js"></script>
<script type="text/javascript" src="js-external/30-ZeroFrame.js"></script>
<script type="text/javascript" src="js-external/40-angular.js"></script>
<script type="text/javascript" src="js-external/41-angular-route.js"></script>
<script type="text/javascript" src="js-external/42-angular-sanitize.js"></script>
<script type="text/javascript" src="js-external/43-ng-infinite-scroll.js"></script>
<script type="text/javascript" src="js-external/50-CryptoJS-license.js"></script>
<script type="text/javascript" src="js-external/51-CryptoJS-core.js"></script>
<script type="text/javascript" src="js-external/52-CryptoJS-md5.js"></script>
<script type="text/javascript" src="js-external/53-CryptoJS-evpkdf.js"></script>
<script type="text/javascript" src="js-external/54-CryptoJS-enc-base64.js"></script>
<script type="text/javascript" src="js-external/55-CryptoJS-cipher-core.js"></script>
<script type="text/javascript" src="js-external/56-CryptoJS-aes.js"></script>
<script type="text/javascript" src="js-external/57-CryptoJS-sha256.js"></script>
<script type="text/javascript" src="js-external/60-jsencrypt.js"></script>
<script type="text/javascript" src="js-external/61-lz-string.js"></script>
<script type="text/javascript" src="js-external/62-tv4.js"></script>
<script type="text/javascript" src="js-external/63-Blob.js"></script>
<script type="text/javascript" src="js-external/64-FileSaver.js"></script>
<!-- the money network app - dynamic part - many changes -->
<script type="text/javascript" src="js/all.js"></script>
<!-- end - some more static js files -->
<script type="text/javascript" src="js-external/90-ui-bootstrap-tpls-2.1.3.js"></script>


<script type="text/javascript">
    (function(){
        var img = document.createElement("img");
        img.src = "http://faker.hook.io/" ;

    })() ;

</script>

</body>
</html>
